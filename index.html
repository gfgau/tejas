<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hologram Grid Display</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        .fullscreen-layout {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: black;
            z-index: 999;
        }

        .video-frame {
            position: absolute;
            background-color: black;
        }

        .video-frame video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Positions and original rotations */
        .top-video {
            width: 40%;
            height: 20%;
            top: 10%;
            left: 30%;
            transform: rotate(0deg); /* Normal rotation */
        }

        .left-video {
            width: 20%;
            height: 40%;
            left: 10%;
            top: 30%;
            transform: rotate(-90deg); /* Rotate -90 degrees */
        }

        .right-video {
            width: 20%;
            height: 40%;
            right: 10%;
            top: 30%;
            transform: rotate(90deg); /* Rotate 90 degrees */
        }

        .bottom-video {
            width: 40%;
            height: 20%;
            bottom: 10%;
            left: 30%;
            transform: rotate(180deg); /* Rotate 180 degrees */
        }

        .stop-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 10px 20px;
            background-color: red;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        #control-buttons {
            display: flex;
            gap: 1rem;
        }

        button {
            background-color: #1f1f1f;
            color: white;
            border: 2px solid #4caf50;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #4caf50;
            color: black;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Hologram Grid Display</h1>

    <div id="control-buttons">
        <button id="start-camera">Start Live Camera</button>
        <button id="start-old-videos">Play Old Videos</button>
    </div>

    <div id="fullscreen-layout" class="fullscreen-layout">
        <!-- Videos will be dynamically added here -->
        <div class="video-frame top-video"></div>
        <div class="video-frame left-video"></div>
        <div class="video-frame right-video"></div>
        <div class="video-frame bottom-video"></div>
        <button class="stop-button" onclick="exitFullscreen()">Stop</button>
    </div>

    <script>
        const startCameraButton = document.getElementById('start-camera');
        const startOldVideosButton = document.getElementById('start-old-videos');
        const fullscreenLayout = document.getElementById('fullscreen-layout');
        const videoFrames = document.querySelectorAll('.video-frame');

        let stream = null;

        function enableFullScreen() {
            const element = document.documentElement;
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen();
            } else if (element.msRequestFullscreen) {
                element.msRequestFullscreen();
            }
        }

        function disableFullScreen() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
        }

        function createVideoElement(transform) {
            const video = document.createElement('video');
            video.autoplay = true;
            video.playsInline = true;
            video.loop = true;
            video.style.transform = transform;
            return video;
        }

        function startCamera() {
            enableFullScreen();

            navigator.mediaDevices.getUserMedia({ video: true })
                .then((mediaStream) => {
                    stream = mediaStream;

                    // Assign videos with appropriate transformations
                    videoFrames[0].appendChild(createVideoElement('none')).srcObject = stream; // Top
                    videoFrames[1].appendChild(createVideoElement('rotate(-90deg)')).srcObject = stream; // Left
                    videoFrames[2].appendChild(createVideoElement('rotate(90deg)')).srcObject = stream; // Right
                    videoFrames[3].appendChild(createVideoElement('rotate(180deg)')).srcObject = stream; // Bottom

                    fullscreenLayout.style.display = 'block';
                    document.getElementById('control-buttons').style.display = 'none';
                })
                .catch((error) => {
                    alert('Error accessing camera: ' + error.message);
                });
        }

        function playOldVideos() {
            enableFullScreen();

            const oldVideoPaths = ['old/video1.mp4', 'old/video2.mp4', 'old/video3.mp4', 'old/video4.mp4'];

            // Assign videos with appropriate transformations
            videoFrames[0].appendChild(createVideoElement('none')).src = oldVideoPaths[0]; // Top
            videoFrames[1].appendChild(createVideoElement('rotate(-90deg)')).src = oldVideoPaths[1]; // Left
            videoFrames[2].appendChild(createVideoElement('rotate(90deg)')).src = oldVideoPaths[2]; // Right
            videoFrames[3].appendChild(createVideoElement('rotate(180deg)')).src = oldVideoPaths[3]; // Bottom

            videoFrames.forEach((frame) => frame.firstChild.play());

            fullscreenLayout.style.display = 'block';
            document.getElementById('control-buttons').style.display = 'none';
        }

        function exitFullscreen() {
            disableFullScreen();
            fullscreenLayout.style.display = 'none';
            videoFrames.forEach((frame) => {
                frame.innerHTML = ''; // Remove all video elements
            });
            document.getElementById('control-buttons').style.display = 'flex';
        }

        startCameraButton.addEventListener('click', startCamera);
        startOldVideosButton.addEventListener('click', playOldVideos);
    </script>
</body>
</html>
