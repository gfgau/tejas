<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hologram Grid Display</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            width: 100vw;
            height: 100vh;
            display: none; /* Initially hidden */
        }

        .grid-item {
            background-color: #1f1f1f;
            border: 2px solid none;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        video {
            width: 100%;
            height: 100%;
            position: absolute;
            object-fit: cover;
        }

        #control-buttons {
            display: flex;
            gap: 1rem;
        }

        button {
            background-color: #1f1f1f;
            color: white;
            border: 2px solid #4caf50;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #4caf50;
            color: black;
        }

        .hidden {
            display: none;
        }
/* Style for video container */
.fullscreen-layout {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: black;
    z-index: 999;
}

/* Video frame positioning */
.video-frame {
    margin: 10px;
    background-color: grey;
    border: 2px solid white;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Center "Stop" button */
.stop-button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    padding: 10px 20px;
    background-color: red;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}
        .fullscreen-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 0;
    justify-items: center;
    align-items: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: black;
    z-index: 999;
}

.video-frame {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.video-frame video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

    </style>
</head>
<body>
    <h1>Hologram Grid Display</h1>

    <div id="control-buttons">
        <button id="start-camera">Start Live Camera</button>
        <button id="start-old-videos">Play Old Videos</button>
    </div>

    <div class="grid-container">
        <div class="grid-item"></div>
        <div class="grid-item" id="normal-video"></div>
        <div class="grid-item"></div>
        <div class="grid-item" id="rotate-270"></div>
        <div class="grid-item"></div>
        <div class="grid-item" id="rotate-90"></div>
        <div class="grid-item"></div>
        <div class="grid-item" id="rotate-180"></div>
        <div class="grid-item"></div>
    </div>
<div id="fullscreen-layout" class="fullscreen-layout" style="display: none;">
    <div class="video-frame" style="width: 30%; height: 20%;">Video 1</div>
    <div class="video-frame" style="width: 20%; height: 40%;">Video 2</div>
    <div class="video-frame" style="width: 20%; height: 40%;">Video 3</div>
    <div class="video-frame" style="width: 30%; height: 20%;">Video 4</div>
    <button class="stop-button" onclick="exitFullscreen()">Stop</button>
</div>
    <script>
        const startCameraButton = document.getElementById('start-camera');
        const startOldVideosButton = document.getElementById('start-old-videos');
        const gridContainer = document.querySelector('.grid-container');
        const controlButtons = document.getElementById('control-buttons');

        let videoElements = [];
        let stream = null;

        function enableFullScreen() {
            const element = document.documentElement;
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen();
            } else if (element.msRequestFullscreen) {
                element.msRequestFullscreen();
            }
        }

        function disableFullScreen() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
        }

        function createVideoElement(transform) {
            const video = document.createElement('video');
            video.autoplay = true;
            video.playsInline = true;
            video.style.transform = transform;
            return video;
        }

        function startCamera() {
            enableFullScreen();

            navigator.mediaDevices.getUserMedia({ video: true })
                .then((mediaStream) => {
                    stream = mediaStream;

                    const normalVideo = createVideoElement('none');
                    const rotated180Video = createVideoElement('rotate(180deg)');
                    const rotated90Video = createVideoElement('rotate(90deg)');
                    const rotated270Video = createVideoElement('rotate(-90deg)');

                    normalVideo.srcObject = stream;
                    rotated180Video.srcObject = stream;
                    rotated90Video.srcObject = stream;
                    rotated270Video.srcObject = stream;

                    document.getElementById('normal-video').appendChild(normalVideo);
                    document.getElementById('rotate-180').appendChild(rotated180Video);
                    document.getElementById('rotate-90').appendChild(rotated90Video);
                    document.getElementById('rotate-270').appendChild(rotated270Video);

                    videoElements = [normalVideo, rotated180Video, rotated90Video, rotated270Video];

                    gridContainer.style.display = 'grid';
                    controlButtons.classList.add('hidden');
                })
                .catch((error) => {
                    alert('Error accessing camera: ' + error.message);
                });
        }


        function playOldVideos() {
            enableFullScreen();

            const oldVideoPaths = ['old/video1.mp4', 'old/video2.mp4', 'old/video3.mp4', 'old/video4.mp4'];

            const normalVideo = createVideoElement('none');
            const rotated180Video = createVideoElement('rotate(180deg)');
            const rotated90Video = createVideoElement('rotate(90deg)');
            const rotated270Video = createVideoElement('rotate(-90deg)');

            normalVideo.src = oldVideoPaths[0];
            rotated180Video.src = oldVideoPaths[1];
            rotated90Video.src = oldVideoPaths[2];
            rotated270Video.src = oldVideoPaths[3];

            document.getElementById('normal-video').appendChild(normalVideo);
            document.getElementById('rotate-180').appendChild(rotated180Video);
            document.getElementById('rotate-90').appendChild(rotated90Video);
            document.getElementById('rotate-270').appendChild(rotated270Video);

            videoElements = [normalVideo, rotated180Video, rotated90Video, rotated270Video];
            videoElements.forEach(video => video.play());

            gridContainer.style.display = 'grid';
            controlButtons.classList.add('hidden');
        }

        startCameraButton.addEventListener('click', startCamera);
        startOldVideosButton.addEventListener('click', playOldVideos);

        function toggleFullscreen() {
    document.getElementById('fullscreen-layout').style.display = 'flex';
}

function exitFullscreen() {
    document.getElementById('fullscreen-layout').style.display = 'none';
}

        function toggleFullscreen() {
    const fullscreenLayout = document.getElementById('fullscreen-layout');
    fullscreenLayout.style.display = 'grid';

    // Clear the current layout
    fullscreenLayout.innerHTML = '';

    // Create 4 video elements for the hologram effect
    const videoPaths = ['old/video1.mp4', 'old/video2.mp4', 'old/video3.mp4', 'old/video4.mp4'];
    const rotations = ['none', 'rotate(180deg)', 'rotate(90deg)', 'rotate(-90deg)'];

    videoPaths.forEach((path, index) => {
        const videoFrame = document.createElement('div');
        videoFrame.className = 'video-frame';

        const video = document.createElement('video');
        video.src = path;
        video.autoplay = true;
        video.loop = true;
        video.playsInline = true;
        video.style.transform = rotations[index];

        videoFrame.appendChild(video);
        fullscreenLayout.appendChild(videoFrame);
    });

    // Add the stop button
    const stopButton = document.createElement('button');
    stopButton.className = 'stop-button';
    stopButton.textContent = 'Stop';
    stopButton.onclick = exitFullscreen;

    fullscreenLayout.appendChild(stopButton);
}

function exitFullscreen() {
    const fullscreenLayout = document.getElementById('fullscreen-layout');
    fullscreenLayout.style.display = 'none';
    fullscreenLayout.innerHTML = ''; // Clear the fullscreen layout
}
        
    </script>
</body>
</html>
